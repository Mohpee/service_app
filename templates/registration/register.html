{% extends 'base.html' %}

{% block title %}Join ServiceHub - Create Your Account{% endblock %}

{% block content %}
<!-- Registration Section -->
<section class="register-section">
    <div class="container">
        <div class="register-grid">
            <!-- Left Side - Benefits -->
            <div class="register-benefits">
                <h1>Join ServiceHub</h1>
                <p>
                    Create your account and start connecting with trusted service providers or grow your business.
                </p>

                <div class="register-benefits-items">
                    <div class="register-benefits-item">
                        <div class="register-benefits-icon">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <div>
                            <div>Quick Setup</div>
                            <div>Get started in minutes with our simple registration</div>
                        </div>
                    </div>

                    <div class="register-benefits-item">
                        <div class="register-benefits-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div>
                            <div>Secure & Private</div>
                            <div>Your data is protected with industry-standard security</div>
                        </div>
                    </div>

                    <div class="register-benefits-item">
                        <div class="register-benefits-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div>
                            <div>Join Community</div>
                            <div>Connect with thousands of service providers and clients</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Side - Registration Form -->
            <div class="register-form-card card">
                <div class="register-form-body card-body">
                    <div class="register-form-title text-center mb-4">
                        <h2>Create Account</h2>
                        <p>Choose your account type and get started</p>
                    </div>

                    <!-- Account Type Selection -->
                    <div class="register-account-types">
                        <label class="register-form-label">I am a:</label>
                        <div class="register-account-type-cards">
                            <label class="register-account-type-card card" onclick="selectAccountType('client')">
                                <div class="card-body">
                                    <div class="register-account-type-icon">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div>Client</div>
                                    <div>Looking for services</div>
                                    <input type="radio" name="account_type" value="client" class="register-hidden-input" id="client-radio" checked>
                                </div>
                            </label>

                            <label class="register-account-type-card card" onclick="selectAccountType('provider')">
                                <div class="card-body">
                                    <div class="register-account-type-icon">
                                        <i class="fas fa-store"></i>
                                    </div>
                                    <div>Service Provider</div>
                                    <div>Offering services</div>
                                    <input type="radio" name="account_type" value="provider" class="register-hidden-input" id="provider-radio">
                                </div>
                            </label>
                        </div>
                    </div>

                    <form method="post" id="registration-form">
                        {% csrf_token %}
                        {% if form.errors %}
                            <div style="background: #fee; border: 1px solid #fcc; color: var(--danger-color); padding: var(--spacing-md); border-radius: var(--radius-md); margin-bottom: var(--spacing-lg);">
                                <strong>Please correct the following errors:</strong>
                                <ul style="margin: var(--spacing-sm) 0 0 0; padding-left: var(--spacing-lg);">
                                    {% for field, errors in form.errors.items %}
                                        {% for error in errors %}
                                            <li>{{ error }}</li>
                                        {% endfor %}
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}

                        <!-- Personal Information -->
                        <div class="register-form-row">
                            <div class="register-form-group form-group">
                                <label class="register-form-label form-label">First Name</label>
                                <input type="text" name="first_name" class="register-form-input form-input" placeholder="Enter first name" required>
                            </div>
                            <div class="register-form-group form-group">
                                <label class="register-form-label form-label">Last Name</label>
                                <input type="text" name="last_name" class="register-form-input form-input" placeholder="Enter last name" required>
                            </div>
                        </div>

                        <div class="register-form-group form-group">
                            <label class="register-form-label form-label">Username</label>
                            <input type="text" name="username" class="register-form-input form-input" placeholder="Choose a username" required>
                        </div>

                        <div class="register-form-group form-group">
                            <label class="register-form-label form-label">Email Address</label>
                            <input type="email" name="email" class="register-form-input form-input" placeholder="Enter your email" required>
                        </div>

                        <div class="register-form-row">
                            <div class="register-form-group form-group">
                                <label class="register-form-label form-label">Password</label>
                                <input type="password" name="password" class="register-form-input form-input" placeholder="Create password" required>
                            </div>
                            <div class="register-form-group form-group">
                                <label class="register-form-label form-label">Confirm Password</label>
                                <input type="password" name="password2" class="register-form-input form-input" placeholder="Confirm password" required>
                            </div>
                        </div>

                        <!-- Hidden account_type field -->
                        <input type="hidden" name="account_type" id="account_type_hidden" value="client">

                        <!-- Phone Number (for providers) -->
                        <div class="register-form-group register-phone-group form-group" id="phone-group">
                            <label class="register-form-label form-label">Phone Number</label>
                            <input type="tel" name="phone_number" class="register-form-input form-input" placeholder="Enter phone number">
                        </div>

                        <!-- Terms and Conditions -->
                        <div class="register-terms form-group">
                            <label>
                                <input type="checkbox" required>
                                <span>I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></span>
                            </label>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" class="register-submit-btn btn btn-primary">
                            <i class="fas fa-user-plus"></i> Create Account
                        </button>

                        <!-- Login Link -->
                        <div class="register-login-link text-center">
                            <p>
                                Already have an account?
                                <a href="{% url 'users:login' %}">Sign in here</a>
                            </p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
