{% extends 'base.html' %}

{% block title %}Booking Confirmed - Order #{{ order.id }}{% endblock %}

{% block content %}
<!-- Success Section -->
<section style="min-height: 70vh; display: flex; align-items: center; background: linear-gradient(135deg, var(--success-color), var(--primary-color)); color: white;">
    <div class="container text-center">
        <div style="max-width: 600px; margin: 0 auto;">
            <!-- Success Icon -->
            <div style="width: 120px; height: 120px; background: rgba(255, 255, 255, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--spacing-xl); font-size: 3rem;">
                <i class="fas fa-check"></i>
            </div>

            <!-- Success Message -->
            <h1 style="font-size: 2.5rem; margin-bottom: var(--spacing-lg);">Booking Confirmed!</h1>
            <p style="font-size: 1.125rem; opacity: 0.9; margin-bottom: var(--spacing-xxl);">
                Your service booking has been successfully submitted. The provider will review your request and confirm the appointment.
            </p>

            <!-- Order Details Card -->
            <div class="card" style="background: white; color: var(--text-primary); margin-bottom: var(--spacing-xl);">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="mb-0">Order #{{ order.id }}</h5>
                        <span class="badge badge-{{ order.status|lower }}">{{ order.get_status_display }}</span>
                    </div>

                    <div style="display: flex; flex-direction: column; gap: var(--spacing-md);">
                        <div class="d-flex justify-content-between">
                            <span>Service:</span>
                            <span style="font-weight: 600;">{{ service.name }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                            <span>Provider:</span>
                            <span>{{ service.provider.get_full_name|default:service.provider.username }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                            <span>Scheduled Date:</span>
                            <span>{{ order.scheduled_date|date:"M d, Y" }} at {{ order.scheduled_date|time:"g:i A" }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                            <span>Location:</span>
                            <span>{{ order.service_location }}</span>
                        </div>
                        <div class="d-flex justify-content-between">
                            <span>Quantity:</span>
                            <span>{{ order.quantity }}</span>
                        </div>
                        <hr>
                        <div class="d-flex justify-content-between">
                            <span style="font-weight: 600;">Total Amount:</span>
                            <span style="font-weight: 700; color: var(--success-color); font-size: 1.125rem;">KES {{ order.total_amount|floatformat:0 }}</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="d-flex gap-3 justify-content-center">
                <a href="{% url 'orders:order-detail' order.id %}" class="btn btn-light">
                    <i class="fas fa-eye"></i> View Order Details
                </a>
                <a href="{% url 'pages:homepage' %}" class="btn btn-outline-light">
                    <i class="fas fa-home"></i> Back to Home
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Next Steps Section -->
<section style="padding: var(--spacing-xxl) 0; background: var(--light-primary);">
    <div class="container">
        <div class="text-center mb-5">
            <h2>What Happens Next?</h2>
            <p style="color: var(--text-secondary); font-size: 1.125rem;">Here's what you can expect after booking</p>
        </div>

        <div class="d-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-xl);">
            <!-- Step 1 -->
            <div class="card text-center">
                <div class="card-body">
                    <div style="width: 60px; height: 60px; background: var(--primary-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--spacing-lg); color: white; font-size: 1.5rem;">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h5>Provider Review</h5>
                    <p style="color: var(--text-secondary);">The service provider will review your booking request and confirm availability.</p>
                </div>
            </div>

            <!-- Step 2 -->
            <div class="card text-center">
                <div class="card-body">
                    <div style="width: 60px; height: 60px; background: var(--secondary-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--spacing-lg); color: white; font-size: 1.5rem;">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h5>Confirmation</h5>
                    <p style="color: var(--text-secondary);">Once confirmed, you'll receive a notification and can proceed with payment.</p>
                </div>
            </div>

            <!-- Step 3 -->
            <div class="card text-center">
                <div class="card-body">
                    <div style="width: 60px; height: 60px; background: var(--accent-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--spacing-lg); color: white; font-size: 1.5rem;">
                        <i class="fas fa-tools"></i>
                    </div>
                    <h5>Service Delivery</h5>
                    <p style="color: var(--text-secondary);">The service will be provided at the scheduled date and time.</p>
                </div>
            </div>
        </div>

        <!-- Contact Information -->
        <div class="card mt-5">
            <div class="card-body text-center">
                <h5>Need Help?</h5>
                <p style="color: var(--text-secondary); margin-bottom: var(--spacing-lg);">
                    If you have any questions about your booking, feel free to contact us.
                </p>
                <div class="d-flex gap-3 justify-content-center">
                    <a href="mailto:support@servicehub.com" class="btn btn-outline-primary">
                        <i class="fas fa-envelope"></i> Email Support
                    </a>
                    <a href="tel:+254700000000" class="btn btn-outline-primary">
                        <i class="fas fa-phone"></i> Call Support
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}